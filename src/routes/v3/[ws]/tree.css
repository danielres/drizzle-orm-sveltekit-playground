/* Inspired by: https://two-wrongs.com/draw-a-tree-structure-with-only-css.html */

.tree {
  ul,
  ul li {
    @apply relative;
  }

  ul {
    @apply list-none pl-7;
    li::before,
    li::after {
      content: '';
      @apply absolute -left-4;
    }

    li::before {
      @apply border-b-4 border-l-4 rounded-bl-lg;
      top: 5px;
      width: 16px;
      height: 10px;
    }

    li::after {
      @apply border-l-4;
      height: calc(100% + 6px);
      width: 0px;
      top: -6px;
    }
  }

  ul > li:last-child::after {
    height: 12px;
  }

  :not(.root) > .name {
    cursor: grab;
    &:hover {
      @apply opacity-75;
    }
    &.drop-allowed {
      @apply bg-emerald-100/25 text-emerald-700/50 border-emerald-600/40 opacity-100;
    }
    &.drop-forbidden {
      @apply opacity-10;
    }
  }

  .root > .name {
    cursor: pointer;
    font-size: 0.1px;
    @apply w-6 h-6 rounded-full text-transparent ml-0.5 bg-gray-400 border-2 border-transparent;
    &.drop-allowed {
      @apply bg-emerald-500/40 opacity-100 border-2;
    }
  }

  .name {
    @apply rounded px-1 py-0.5 mb-1.5 inline-block;
    @apply transition-all duration-500;
    @apply border-2 border-black/50;
    @apply text-black font-bold text-sm;
    @apply opacity-40;
  }

  .actions {
    @apply opacity-0 delay-300 transition-opacity -ml-2 pl-2 w-0 overflow-hidden;
    button {
      @apply flex items-center text-gray-400 transition-colors;
      @apply cursor-pointer;
      &:hover {
        @apply text-gray-800;
      }
    }
  }
  .actions:hover,
  .name:hover + .actions {
    @apply opacity-100 w-auto overflow-visible;
  }
}
